module.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=14)}([,function(e,t){e.exports=flarum.core.compat["forum/app"]},function(e,t){e.exports=flarum.extensions["fof-gamification"]},function(e,t){e.exports=flarum.core.compat["common/extend"]},,,function(e,t,r){"use strict";var n=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,a=0,i=t.length;a<i;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.isTraversal=void 0;var a=/^[^\\#]?(?:\\(?:[\da-f]{1,6}\s?|.)|[\w\-\u00b0-\uFFFF])+/,i=/\\([\da-f]{1,6}\s?|(\s)|.)/gi,o=new Map([["~","element"],["^","start"],["$","end"],["*","any"],["!","not"],["|","hyphen"]]),s={">":"child","<":"parent","~":"sibling","+":"adjacent"},u={"#":["id","equals"],".":["class","element"]},c=new Set(["has","not","matches","is","where","host","host-context"]),l=new Set(n(["descendant"],Object.keys(s).map((function(e){return s[e]})),!0)),f=new Set(["accept","accept-charset","align","alink","axis","bgcolor","charset","checked","clear","codetype","color","compact","declare","defer","dir","direction","disabled","enctype","face","frame","hreflang","http-equiv","lang","language","link","media","method","multiple","nohref","noresize","noshade","nowrap","readonly","rel","rev","rules","scope","scrolling","selected","shape","target","text","type","valign","valuetype","vlink"]);function p(e){return l.has(e.type)}t.isTraversal=p;var d=new Set(["contains","icontains"]),h=new Set(['"',"'"]);function m(e,t,r){var n=parseInt(t,16)-65536;return n!=n||r?t:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)}function v(e){return e.replace(i,m)}function y(e){return" "===e||"\n"===e||"\t"===e||"\f"===e||"\r"===e}function g(e,t){if(e.length>0&&0===t.length)throw new Error("Empty sub-selector");e.push(t)}t.default=function(e,t){var r=[],n=function e(t,r,n,i){var l,m;void 0===n&&(n={});var b=[],w=!1;function A(e){var t=r.slice(i+e).match(a);if(!t)throw new Error("Expected name, found "+r.slice(i));var n=t[0];return i+=e+n.length,v(n)}function x(e){for(;y(r.charAt(i+e));)e++;i+=e}function j(e){for(var t=0;"\\"===r.charAt(--e);)t++;return 1==(1&t)}function O(){if(b.length>0&&p(b[b.length-1]))throw new Error("Did not expect successive traversals.")}x(0);for(;""!==r;){var C=r.charAt(i);if(y(C))w=!0,x(1);else if(C in s)O(),b.push({type:s[C]}),w=!1,x(1);else if(","===C){if(0===b.length)throw new Error("Empty sub-selector");t.push(b),b=[],w=!1,x(1)}else if(r.startsWith("/*",i)){var _=r.indexOf("*/",i+2);if(_<0)throw new Error("Comment was not terminated");i=_+2}else if(w&&(O(),b.push({type:"descendant"}),w=!1),C in u){var k=u[C],S=k[0],E=k[1];b.push({type:"attribute",name:S,action:E,value:A(1),namespace:null,ignoreCase:!!n.xmlMode&&null})}else if("["===C){x(1);var P=null;"|"===r.charAt(i)&&(P="",i+=1),r.startsWith("*|",i)&&(P="*",i+=2);var M=A(0);null===P&&"|"===r.charAt(i)&&"="!==r.charAt(i+1)&&(P=M,M=A(1)),(null!==(l=n.lowerCaseAttributeNames)&&void 0!==l?l:!n.xmlMode)&&(M=M.toLowerCase()),x(0);E="exists";var L=o.get(r.charAt(i));if(L){if(E=L,"="!==r.charAt(i+1))throw new Error("Expected `=`");x(2)}else"="===r.charAt(i)&&(E="equals",x(1));var N="",q=null;if("exists"!==E){if(h.has(r.charAt(i))){for(var U=r.charAt(i),R=i+1;R<r.length&&(r.charAt(R)!==U||j(R));)R+=1;if(r.charAt(R)!==U)throw new Error("Attribute value didn't end");N=v(r.slice(i+1,R)),i=R+1}else{for(var T=i;i<r.length&&(!y(r.charAt(i))&&"]"!==r.charAt(i)||j(i));)i+=1;N=v(r.slice(T,i))}x(0);var W=r.charAt(i);"s"===W||"S"===W?(q=!1,x(1)):"i"!==W&&"I"!==W||(q=!0,x(1))}if(n.xmlMode||null!=q||(q=f.has(M)),"]"!==r.charAt(i))throw new Error("Attribute selector didn't terminate");i+=1;var I={type:"attribute",name:M,action:E,value:N,namespace:P,ignoreCase:q};b.push(I)}else if(":"===C){if(":"===r.charAt(i+1)){b.push({type:"pseudo-element",name:A(2).toLowerCase()});continue}var F=A(1).toLowerCase(),$=null;if("("===r.charAt(i))if(c.has(F)){if(h.has(r.charAt(i+1)))throw new Error("Pseudo-selector "+F+" cannot be quoted");if(i=e($=[],r,n,i+1),")"!==r.charAt(i))throw new Error("Missing closing parenthesis in :"+F+" ("+r+")");i+=1}else{for(var z=i+=1,B=1;B>0&&i<r.length;i++)"("!==r.charAt(i)||j(i)?")"!==r.charAt(i)||j(i)||B--:B++;if(B)throw new Error("Parenthesis not matched");if($=r.slice(z,i-1),d.has(F)){var D=$.charAt(0);D===$.slice(-1)&&h.has(D)&&($=$.slice(1,-1)),$=v($)}}b.push({type:"pseudo",name:F,data:$})}else{P=null;var G=void 0;if("*"===C)i+=1,G="*";else{if(!a.test(r.slice(i)))return b.length&&"descendant"===b[b.length-1].type&&b.pop(),g(t,b),i;"|"===r.charAt(i)&&(P="",i+=1),G=A(0)}"|"===r.charAt(i)&&(P=G,"*"===r.charAt(i+1)?(G="*",i+=2):G=A(1)),"*"===G?b.push({type:"universal",namespace:P}):((null!==(m=n.lowerCaseTags)&&void 0!==m?m:!n.xmlMode)&&(G=G.toLowerCase()),b.push({type:"tag",name:G,namespace:P}))}}return g(t,b),i}(r,""+e,t,0);if(n<e.length)throw new Error("Unmatched selector: "+e.slice(n));return r}},function(e,t){e.exports=flarum.core.compat["forum/components/PostUser"]},function(e,t){e.exports=flarum.core.compat["forum/components/UserCard"]},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.stringify=t.parse=void 0,a(r(6),t);var o=r(6);Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return i(o).default}});var s=r(13);Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return i(s).default}})},,,,function(e,t,r){"use strict";var n=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,a=0,i=t.length;a<i;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0});var a={equals:"",element:"~",start:"^",end:"$",any:"*",not:"!",hyphen:"|"},i=new Set(n(n([],Object.keys(a).map((function(e){return a[e]})).filter(Boolean),!0),[":","[","]"," ","\\","(",")","'"],!1));function o(e){return e.map(s).join(", ")}function s(e){return e.map(u).join("")}function u(e){switch(e.type){case"child":return" > ";case"parent":return" < ";case"sibling":return" ~ ";case"adjacent":return" + ";case"descendant":return" ";case"universal":return l(e.namespace)+"*";case"tag":return c(e);case"pseudo-element":return"::"+f(e.name);case"pseudo":return null===e.data?":"+f(e.name):"string"==typeof e.data?":"+f(e.name)+"("+f(e.data)+")":":"+f(e.name)+"("+o(e.data)+")";case"attribute":if("id"===e.name&&"equals"===e.action&&!e.ignoreCase&&!e.namespace)return"#"+f(e.value);if("class"===e.name&&"element"===e.action&&!e.ignoreCase&&!e.namespace)return"."+f(e.value);var t=c(e);return"exists"===e.action?"["+t+"]":"["+t+a[e.action]+"='"+f(e.value)+"'"+(e.ignoreCase?"i":!1===e.ignoreCase?"s":"")+"]"}}function c(e){return""+l(e.namespace)+f(e.name)}function l(e){return null!==e?("*"===e?"*":f(e))+"|":""}function f(e){return e.split("").map((function(e){return i.has(e)?"\\"+e:e})).join("")}t.default=o},function(e,t,r){"use strict";r.r(t);var n=r(1),a=r.n(n),i=r(3),o=r(7),s=r.n(o),u=r(8),c=r.n(u),l=r(9);function f(e,t,r){void 0===t&&(t=!1),void 0===r&&(r=!1);var n=a.a.data[(t?"fof-gamification":"gamification-extras")+"."+e];return r?!!Number(n):n}function p(e,t,r){return function e(t,r,n){var a;a=Array.isArray(t)?t:[t];var i=void 0;a.some((function(t){if("boolean"==typeof t||"number"==typeof t||"string"==typeof t||null==t)return!1;if(Array.isArray(t)){var a=e(t,r,n);return!!a&&(i=a,!0)}if(function(e,t){return t.some((function(t){return t.every((function(t){var r,n,a,i;switch(t.type){case"tag":return e.tag===t.name;case"attribute":if(!e.attrs)return!1;"class"===t.name&&(t.name="className");var o=e.attrs[t.name];switch("className"===t.name&&"string"==typeof o&&(o=o.trim()),t.ignoreCase&&"string"==typeof o&&(o=o.toLowerCase(),t.value=t.value.toLowerCase()),t.action){case"exists":return e.attrs.hasOwnProperty(t.name);case"equals":return o===t.value;case"start":return(null==(r=o)||null==r.startsWith?void 0:r.startsWith(t.value))||!1;case"end":return(null==(n=o)||null==n.endsWith?void 0:n.endsWith(t.value))||!1;case"element":return(null==(a=o)||null==a.split||null==(i=a.split(" "))||null==i.includes?void 0:i.includes(t.value))||!1}}return!1}))}))}(t,r))return i=t,!0;if(Array.isArray(t.children)){var o=e(t.children,r);return!!o&&(i=o,!0)}return!1})),n&&i&&n(i);return i}(e,Object(l.parse)(t),r)}function d(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var v=r(2);function y(e){var t=[];if(e.groups()&&(t=e.groups().filter((function(e){return e.stickyRank()})),f("onlyOneStickyRank")&&t.length)){for(var r,n,a=d(t);!(n=a()).done;){var i=n.value,o=i.stickyRank();(!r||o.points>r.points)&&(r=i)}t=[r]}return t.map((function(e){return e.stickyRank()}))}a.a.initializers.add("gamification-extras",(function(){Object(i.extend)(c.a.prototype,"view",(function(e){var t=this.attrs.user,r=Number(f("rankAmt",!0)),n=y(t);return p(e,".UserCard-profile .UserCard-badges",(function(e){if(e.children=[],n.length>0)for(var t,a=d(n.map((function(e,t){return!r||t<r?m("li",{className:"User-Rank"},v.rankLabel(e)):null})));!(t=a()).done;){var i=t.value;i&&e.children.push(i)}})),e})),Object(i.extend)(s.a.prototype,"view",(function(e){var t,r=this.attrs.post.user();if(!r)return e;var n=p(e,"h3"),a=null!=(t=Number(f("rankAmt")))?t:r.ranks().length,i=y(r);return i.length>0&&n&&(n.children=[].concat(n.children,i.splice(0,a).map((function(e){return m("span",{className:"Post-Rank"},v.rankLabel(e))}))).filter((function(e){return void 0!==e.tag}))),e}))}))}]);
//# sourceMappingURL=forum.js.map